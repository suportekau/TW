<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TW Produções de Festa</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: row;
      min-height: 100vh;
      background: #f9f9f9;
      overflow: hidden;
    }
    /* Menu lateral */
    .menu {
      width: 220px;
      background-color: #8e44ad;
      color: white;
      display: flex;
      flex-direction: column;
      padding: 20px;
      flex-shrink: 0;
      height: 100vh;
      overflow-y: auto;
    }
    .menu button {
      margin-bottom: 15px;
      padding: 12px;
      font-size: 16px;
      background-color: white;
      color: #8e44ad;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
      white-space: nowrap;
    }
    .menu button:hover {
      background-color: #f1c40f;
      color: #000;
    }

    /* Conteúdo principal */
    .conteudo {
      flex-grow: 1;
      padding: 20px 30px;
      overflow-y: auto;
      max-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .conteudo h1 {
      color: #8e44ad;
      margin-bottom: 20px;
      text-align: center;
    }
    .conteudo p {
      max-width: 700px;
      margin-bottom: 30px;
      text-align: center;
      color: #333;
    }
    /* Formulário */
    form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px 30px;
      max-width: 700px;
      width: 100%;
    }
    form label {
      font-weight: bold;
      margin-bottom: 5px;
      display: block;
      color: #333;
    }
    form input {
      width: 100%;
      padding: 7px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
    }
    form button {
      grid-column: 1 / 3;
      padding: 12px;
      background-color: #8e44ad;
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      width: 160px;
      justify-self: center;
      margin-top: 15px;
      white-space: nowrap;
    }
    form button:hover {
      background-color: #732d91;
    }
    #btnEditar {
      display: none;
      background-color: #27ae60;
    }
    #btnEditar:hover {
      background-color: #1e8449;
    }
    .msg-sucesso {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
      padding: 12px;
      margin-top: 20px;
      border-radius: 5px;
      max-width: 700px;
      text-align: center;
    }

    /* Slideshow styles */
    .slideshow-container-inicial {
      width: 100%;
      max-width: 700px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      margin-bottom: 40px;
    }
    .slideshow-container-inicial img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
    }

    /* Imagem galeria */
    .preview-img {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
    }
    .preview-img img {
      width: 300px;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }

    /* Ajuste responsivo */
    @media (max-width: 900px) {
      body {
        flex-direction: column;
      }
      .menu {
        width: 100%;
        height: auto;
        flex-direction: row;
        overflow-x: auto;
        padding: 10px;
      }
      .menu button {
        flex: 1 0 auto;
        margin: 0 10px 0 0;
        white-space: nowrap;
      }
      .conteudo {
        padding: 15px 20px;
        max-height: none;
      }
      form {
        grid-template-columns: 1fr;
        gap: 15px;
        max-width: 100%;
      }
      form button {
        width: 100%;
      }
      .slideshow-container-inicial {
        max-width: 100%;
        margin-bottom: 30px;
      }
      .preview-img img {
        width: 100%;
        max-width: 300px;
        height: auto;
      }
    }
  </style>
</head>
<body>

  <div class="menu">
    <button onclick="mostrarConteudo('inicial')">Início</button>
    <button onclick="mostrarConteudo('cadastro')">Faça seu cadastro</button>
    <button onclick="mostrarConteudo('orcamento')">Clique e monte sua festa</button>
    <button onclick="mostrarConteudo('galeria')">Galeria de Fotos</button>
  </div>

  <div class="conteudo" id="conteudo">
    <h1>Bem-vindo à TW Produções de Festa!</h1>
    <p>Escolha uma opção no menu para começar.</p>
    <div class="slideshow-container-inicial">
      <img id="slideInicial" src="imagens/foto1.jpg" alt="Slideshow" />
    </div>
  </div>

  <script>
    function mostrarConteudo(pagina) {
      const conteudo = document.getElementById('conteudo');

      if (pagina === 'inicial') {
        conteudo.innerHTML = `
          <h1>Bem-vindo à TW Produções de Festa!</h1>
          <p>Escolha uma opção no menu para começar.</p>
          <div class="slideshow-container-inicial">
            <img id="slideInicial" src="imagens/foto1.jpg" alt="Slideshow" />
          </div>
        `;

        const imagensIniciais = [
          "imagens/foto1.jpg",
          "imagens/foto2.jpg",
          "imagens/foto3.jpg"
        ];
        let indiceInicial = 0;
        const slideInicial = document.getElementById("slideInicial");

        function mudarSlideInicial() {
          indiceInicial = (indiceInicial + 1) % imagensIniciais.length;
          slideInicial.src = imagensIniciais[indiceInicial];
        }

        setInterval(mudarSlideInicial, 3000);

      } else if (pagina === 'cadastro') {
        const hoje = new Date();
        const dataFormatada = hoje.toISOString().split('T')[0];

        conteudo.innerHTML = `
          <h1>Cadastro de Cliente</h1>
          <form id="formCadastro" autocomplete="off">
            <div>
              <label for="data">Data do Cadastro</label>
              <input type="date" id="data" name="data" readonly />
            </div>
            <div>
              <label for="nome">Nome</label>
              <input type="text" id="nome" name="nome" required />
            </div>
            <div>
              <label for="telefone">Telefone</label>
              <input type="tel" id="telefone" name="telefone" required />
            </div>
            <div>
              <label for="endereco">Endereço</label>
              <input type="text" id="endereco" name="endereco" required />
            </div>
            <div>
              <label for="bairro">Bairro</label>
              <input type="text" id="bairro" name="bairro" required />
            </div>
            <div>
              <label for="cidade">Cidade</label>
              <input type="text" id="cidade" name="cidade" required />
            </div>
            <div>
              <label for="estado">Estado</label>
              <input type="text" id="estado" name="estado" maxlength="2" required />
            </div>

            <button type="submit" id="btnSalvar">Salvar Cadastro</button>
            <button type="button" id="btnEditar">Editar</button>
          </form>
          <div id="mensagem"></div>
        `;

        const form = document.getElementById('formCadastro');
        const campos = Array.from(form.querySelectorAll('input:not([type=date])'));
        const dataInput = document.getElementById('data');
        const btnSalvar = document.getElementById('btnSalvar');
        const btnEditar = document.getElementById('btnEditar');
        const mensagem = document.getElementById('mensagem');

        dataInput.value = dataFormatada;

        function carregarDados() {
          const dados = localStorage.getItem('cadastroTW');
          if (dados) {
            const obj = JSON.parse(dados);
            dataInput.value = obj.data || dataFormatada;
            campos.forEach(campo => {
              if (obj[campo.name]) campo.value = obj[campo.name];
            });
            campos.forEach(campo => campo.disabled = true);
            btnSalvar.style.display = 'none';
            btnEditar.style.display = 'inline-block';
            mensagem.innerHTML = '<div class="msg-sucesso">Dados carregados do cadastro salvo.</div>';
          }
        }

        carregarDados();

        document.getElementById('nome').focus();

        campos.forEach((campo, i) => {
          campo.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
              e.preventDefault();
              if (i + 1 < campos.length) {
                campos[i + 1].focus();
              } else {
                form.requestSubmit();
              }
            }
          });
        });

        form.addEventListener('submit', function (event) {
          event.preventDefault();

          if (!form.checkValidity()) {
            form.reportValidity();
            return;
          }

          const dados = { data: dataInput.value };
          campos.forEach(campo => {
            dados[campo.name] = campo.value;
          });

          localStorage.setItem('cadastroTW', JSON.stringify(dados));

          campos.forEach(campo => campo.disabled = true);
          btnSalvar.style.display = 'none';
          btnEditar.style.display = 'inline-block';
          mensagem.innerHTML = '<div class="msg-sucesso">Cadastro salvo com sucesso!</div>';
        });

        btnEditar.addEventListener('click', () => {
          campos.forEach(campo => campo.disabled = false);
          btnSalvar.style.display = 'inline-block';
          btnEditar.style.display = 'none';
          mensagem.innerHTML = '';
          campos[0].focus();
        });

      } else if (pagina === 'orcamento') {
        conteudo.innerHTML = `
          <h1>Clique e monte sua festa</h1>
          <p>Aqui você poderá montar o orçamento personalizado para sua festa.</p>
        `;
      } else if (pagina === 'galeria') {
        conteudo.innerHTML = `
          <h1>Galeria de Fotos</h1>
          <div class="preview-img">
            <img src="https://via.placeholder.com/300x200?text=Festa+1" alt="Festa 1"/>
            <img src="https://via.placeholder.com/300x200?text=Festa+2" alt="Festa 2"/>
            <img src="https://via.placeholder.com/300x200?text=Festa+3" alt="Festa 3"/>
          </div>
        `;
      }
    }

    // Inicia com página inicial
    mostrarConteudo('inicial');
  </script>
</body>
</html>
